vi 编辑器主要分为以下 3 种模式

1）命令模式：这是执行 vi 后的默认模式，此时键盘输入当作命令，命令有大小写之分。

2）插入模式：使用 a, i, o, c, r, s 进入插入模式，用户输入的任何字符都被 vi 当作内容保存起来，并将其显示在屏幕上。按 ESC 键即可回到命令模式。

3）末行模式：在 Command Line 按下即可进入该模式，用来进行保存文件、打开文档或环境的设定，命令有大小写之分。



Vi 编辑器的进入

可以通过以下 3 种方法把 vi 编辑器从命令模式进入到插入模式。

（1）新增（append）

■ a：从光标所在位置后面开始新增内容。

■ A：从光标所在行最后面的地方开始新增内容。



（2）插入（insert）

■ i：从光标所在位置前面开始插入内容

■ I：从光标所在行的第一个非空白字符前面开始插入资料。



（3）开始（open）

■ o：在光标所在行下新增一行并进入输入模式

■ O：在光标所在行上新增一行并进入输入模式



-----

命令模式的命令

（1）光标的移动

■ h：左移一个字符

■ l：右移一个字符

■ j：下移一行

■ k：上移一行

■ w, W：跳至后一个字的开头

■ b, B：跳至前一个字的开头

■ e：移动到后一个字的末尾

■ ^：至本行第一个非空字符

■ $：至行尾

■ H：移动到当前窗口的第一列

■ M：移动到当前窗口的中间列

■ L：移动到视窗的最后一列

■ )：光标所在位置到下个句子的第一个字母

■ (：光标所在位置到该句子的第一个字母

■ }：光标所在位置到该段落的最后一个字母

■ {：光标所在位置到该段落的第一个字母



（2）删除

■ x：删除光标所在字符

■ X：删除光标前面的字符

■ s：删除光标所在字符，并进入输入模式

■ S：删除光标所在行，并进入输入模式

■ dd：删除光标所在行

■ d：从光标位置开始删除到行尾

■ D：与光标移动命令的组合



（3）修改

■ r：修改光标所在字符，r 后接着就要修改的字符。例如，rc 可以用字符 c 替换光标所指向的当前字符

■ R：进入替换状态，新增内容会覆盖原先内容，直接按 Esc 键回到命令模式下为止

■ cc：修改光标所在行

■ C：修改从光标位置到该行末尾的内容

■ c：与光标移动命令的组合



（4）复制和移动

■ yy：复制当前行到内存缓冲区

■ nyy：复制 n 行内容到内存缓冲区

■ Y：与光标移动的组合

■ p：将缓冲区的内容粘贴到光标的后面



（5）搜索字符串

■ /pattern：移至下一个包含 pattern 的行

■ ?pattern：移至上一个包含 pattern 的行

■ /：往下重复查找

■ ?：往上重复查找

■ n：在同一方向重复查找

■ N：在相反方向重复查找

■ /pattern/+n：移至下一个 pattern 所在行后的第 n 行

■ ?pattern?-n：移至上一个 pattern 所在行前的第 n 行



----

末行模式的命令

（1）文件的保存和退出

■ w：保存

■ q：退出

■ w!：强制保存

■ q!：强制退出

■ wq：保存退出

■ wq!：强制保存退出



（2）字符串的替换

■ s/str1/str2：用 str2 替换行中首次出现的字符串 str1

■ s/str1/str2/g：用 str2 替换行中所有出现的字符串 str1

■ $s/str1/str2/g：用 str2 替换正文当前行到末尾所有出现的字符串 str1



（3）编辑多个文件

■ vi：file1 file2……

■ n：编辑下一个文件

■ e：filename 编辑指定文件



----

vi 编辑器使用示例：



下面用例子来说明 vi 编辑器的使用方法。在 Linux 中，输入一个名为 hello 的文件，并保存退出。

（1）启动终端

启动 Linux，再启动终端



（2）启动 vi

在终端 Terminal 中输入 vi hello.c，进入文本框，当前处于命令模式

此时，如果在当前目录下有名为 hello.c 的文件，则 vi 编辑器打开 hello.c 的文件，如果没有，则会新建名为 hello.c 的文件，并打开文件 hello.c 



（3）进入命令模式

按 Enter 键，进入 vi 编辑器命令模式



（4）进入插入模式

输入命令 a，进入插入模式，输入文字“echo hello world!”，



（5）退出插入模式

按 Esc 键退出插入模式，输入:wq，按 wq (保存并退出命令)



（6）保存

确认保存并退出，按 Enter 键，返回到终端界面

